# Практическая работа №6

## Spring Security

**Цель**: ознакомиться с настройкой безопасности в Spring.

**Общая постановка задачи**: Изменить практическую работу №5, добавив следующий функционал:

1. Добавить простейшую страницу регистрации. Пользователь вводит свои логин и пароль и данная информация вносится в базу данных, пользователю присваивается роль пользователя (User) приложения.
2. Добавить простейшую форму аутентификации. Форма создается программно, а не автоматически генерируется Spring.
3. В приложении должен быть предусмотрен пользователь — администратор (Admin) с ролью отличной, от User.
4. Разграничить уровни доступа к страницам приложения. Пользователь (User) имеет доступ только к страницам просмотра всех записей и запросов. Администратор (Admin) имеет возможность добавлять, редактировать и удалять записи.
5. Информация о пользователях и их ролях должна храниться в базе данных. Способ хранения — на усмотрение студента.
6. Предусмотреть возможность выхода из приложения (logout).
7. Продемонстрировать умение настраивать безопасность на уровне представлений. Для этого реализуется приветствие пользователя после его входа и отображение элемента на основе его роли.

## Результат работы

**Вариант 6**. Сущность: Холодильник.

**Инструкция по сборке и запуску проекта**:
> В pom.xml и в логах сборки может фигурировать артефакт prac_5. Все в порядке, просто делал эту работу поверх предыдущей =)
1. [Загрузите содержимое папки prac_6](https://minhaskamal.github.io/DownGit/#/home?url=https://github.com/shasoka/dcis/tree/master/practice/prac_5);
2. Запустите .sql скрипт, который создаст базу данных с одной таблицей, необходимой для работы проекта:
   ```
   psql -U postgres -h localhost -f deploy.sql
   ```
3. Выполните сборку .jar командой:
    ```
    mvnw clean package
    ```
4. Запустите .jar:
    ```
    java -jar .\target\prac_5-0.0.1-SNAPSHOT.jar
    ```
5. Идем на [localhost:8080](http://localhost:8080/).
6. Встречаем форму авторизации/регистрации. У обычного пользователя нет возможности добавлять, редактировать и удалять модели холодильников.
Чтобы войти в систему с ролью администратора, нужно зарегистрироваться с именем **admin** и любым паролем, например тоже **admin** (пароль от учетной записи администратора следует запомнить).
7. Теперь у вас есть учетная запись обычного пользователя и администратора. Обычный пользователь может просматривать список холодильников, администратор - может им управлять.
8. Победа! ✌️
